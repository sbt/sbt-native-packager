

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Windows Plugin &mdash; sbt-native-packager 1.3.10 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="JDKPackager Plugin" href="jdkpackager.html" />
    <link rel="prev" title="Docker Plugin" href="docker.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> sbt-native-packager
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../introduction.html#goals">Goals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction.html#scope">Scope</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction.html#core-concepts">Core Concepts</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../introduction.html#format-plugins">Format Plugins</a></li>
<li class="toctree-l3"><a class="reference internal" href="../introduction.html#archetype-plugins">Archetype Plugins</a></li>
<li class="toctree-l3"><a class="reference internal" href="../introduction.html#mappings">Mappings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../introduction.html#architecture">Architecture</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../gettingstarted.html">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../gettingstarted.html#setup">Setup</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted.html#native-tools">Native Tools</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../gettingstarted.html#your-first-package">Your first package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted.html#run-the-app">Run the app</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted.html#create-a-package">Create a package</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Formats</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="universal.html">Universal Plugin</a><ul>
<li class="toctree-l3"><a class="reference internal" href="universal.html#related-plugins">Related Plugins</a></li>
<li class="toctree-l3"><a class="reference internal" href="universal.html#requirements">Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="universal.html#build">Build</a><ul>
<li class="toctree-l4"><a class="reference internal" href="universal.html#required-settings">Required Settings</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="universal.html#configurations">Configurations</a></li>
<li class="toctree-l3"><a class="reference internal" href="universal.html#settings">Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="universal.html#tasks">Tasks</a></li>
<li class="toctree-l3"><a class="reference internal" href="universal.html#customize">Customize</a><ul>
<li class="toctree-l4"><a class="reference internal" href="universal.html#universal-archive-options">Universal Archive Options</a></li>
<li class="toctree-l4"><a class="reference internal" href="universal.html#getting-started-with-universal-packaging">Getting Started with Universal Packaging</a></li>
<li class="toctree-l4"><a class="reference internal" href="universal.html#universal-conventions">Universal Conventions</a></li>
<li class="toctree-l4"><a class="reference internal" href="universal.html#change-remove-top-level-directory-in-output">Change/Remove Top Level Directory in Output</a></li>
<li class="toctree-l4"><a class="reference internal" href="universal.html#skip-packagedoc-task-on-stage">Skip packageDoc task on stage</a></li>
<li class="toctree-l4"><a class="reference internal" href="universal.html#mappingshelper">MappingsHelper</a></li>
<li class="toctree-l4"><a class="reference internal" href="universal.html#mapping-examples">Mapping Examples</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="linux.html">Linux Plugin</a><ul>
<li class="toctree-l3"><a class="reference internal" href="linux.html#related-plugins">Related Plugins</a></li>
<li class="toctree-l3"><a class="reference internal" href="linux.html#build">Build</a><ul>
<li class="toctree-l4"><a class="reference internal" href="linux.html#required-settings">Required Settings</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="linux.html#configurations">Configurations</a></li>
<li class="toctree-l3"><a class="reference internal" href="linux.html#settings">Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="linux.html#customize">Customize</a><ul>
<li class="toctree-l4"><a class="reference internal" href="linux.html#package-mappings">Package Mappings</a></li>
<li class="toctree-l4"><a class="reference internal" href="linux.html#the-linuxpackagemapping-models">The LinuxPackageMapping Models</a></li>
<li class="toctree-l4"><a class="reference internal" href="linux.html#modifying-mappings-in-general">Modifying Mappings in General</a></li>
<li class="toctree-l4"><a class="reference internal" href="linux.html#add-mappings">Add Mappings</a></li>
<li class="toctree-l4"><a class="reference internal" href="linux.html#filter-remove-mappings">Filter/Remove Mappings</a></li>
<li class="toctree-l4"><a class="reference internal" href="linux.html#alter-linuxpackagemapping">Alter LinuxPackageMapping</a></li>
<li class="toctree-l4"><a class="reference internal" href="linux.html#alter-linuxsymlinks">Alter LinuxSymlinks</a></li>
<li class="toctree-l4"><a class="reference internal" href="linux.html#add-empty-directories">Add Empty Directories</a></li>
<li class="toctree-l4"><a class="reference internal" href="linux.html#man-pages">Man Pages</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="debian.html">Debian Plugin</a><ul>
<li class="toctree-l3"><a class="reference internal" href="debian.html#requirements">Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="debian.html#build">Build</a><ul>
<li class="toctree-l4"><a class="reference internal" href="debian.html#required-settings">Required Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="debian.html#jre-dependencies">JRE Dependencies</a></li>
<li class="toctree-l4"><a class="reference internal" href="debian.html#native-packaging">Native packaging</a></li>
<li class="toctree-l4"><a class="reference internal" href="debian.html#java-based-packaging">Java based packaging</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="debian.html#configurations">Configurations</a></li>
<li class="toctree-l3"><a class="reference internal" href="debian.html#settings">Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="debian.html#tasks">Tasks</a></li>
<li class="toctree-l3"><a class="reference internal" href="debian.html#customize">Customize</a><ul>
<li class="toctree-l4"><a class="reference internal" href="debian.html#customizing-debian-metadata">Customizing Debian Metadata</a></li>
<li class="toctree-l4"><a class="reference internal" href="debian.html#hook-actions-into-the-debian-package-lifecycle">Hook Actions into the Debian Package Lifecycle</a></li>
<li class="toctree-l4"><a class="reference internal" href="debian.html#use-a-different-castle-directory-for-your-control-scripts">Use a Different Castle Directory for your Control Scripts</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="rpm.html">Rpm Plugin</a><ul>
<li class="toctree-l3"><a class="reference internal" href="rpm.html#requirements">Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="rpm.html#build">Build</a><ul>
<li class="toctree-l4"><a class="reference internal" href="rpm.html#required-settings">Required Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="rpm.html#or-higher">1.0 or higher</a></li>
<li class="toctree-l4"><a class="reference internal" href="rpm.html#or-lower">0.8 or lower</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="rpm.html#configuration">Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="rpm.html#settings">Settings</a><ul>
<li class="toctree-l4"><a class="reference internal" href="rpm.html#informational-settings">Informational Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="rpm.html#dependency-settings">Dependency Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="rpm.html#meta-settings">Meta Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="rpm.html#scriptlet-settings">Scriptlet Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="rpm.html#systemv-start-script-settings">SystemV Start Script Settings</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="rpm.html#tasks">Tasks</a></li>
<li class="toctree-l3"><a class="reference internal" href="rpm.html#customize">Customize</a><ul>
<li class="toctree-l4"><a class="reference internal" href="rpm.html#rpm-prefix">Rpm Prefix</a></li>
<li class="toctree-l4"><a class="reference internal" href="rpm.html#rpmchangelogfile">rpmChangelogFile</a></li>
<li class="toctree-l4"><a class="reference internal" href="rpm.html#scriptlet-changes">Scriptlet Changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="rpm.html#scriptlet-migration-from-1-0-x">Scriptlet Migration from 1.0.x</a></li>
<li class="toctree-l4"><a class="reference internal" href="rpm.html#jar-repackaging">Jar Repackaging</a></li>
<li class="toctree-l4"><a class="reference internal" href="rpm.html#marking-config-files-as-noreplace">Marking config files as <code class="docutils literal notranslate"><span class="pre">noreplace</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="docker.html">Docker Plugin</a><ul>
<li class="toctree-l3"><a class="reference internal" href="docker.html#requirements">Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="docker.html#build">Build</a><ul>
<li class="toctree-l4"><a class="reference internal" href="docker.html#required-settings">Required Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="docker.html#spotify-java-based-docker-client">Spotify java based docker client</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="docker.html#configuration">Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="docker.html#settings">Settings</a><ul>
<li class="toctree-l4"><a class="reference internal" href="docker.html#informational-settings">Informational Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="docker.html#environment-settings">Environment Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="docker.html#publishing-settings">Publishing Settings</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="docker.html#tasks">Tasks</a></li>
<li class="toctree-l3"><a class="reference internal" href="docker.html#customize">Customize</a><ul>
<li class="toctree-l4"><a class="reference internal" href="docker.html#docker-image-name-and-version">Docker Image Name and Version</a></li>
<li class="toctree-l4"><a class="reference internal" href="docker.html#docker-base-image">Docker Base Image</a></li>
<li class="toctree-l4"><a class="reference internal" href="docker.html#docker-repository">Docker Repository</a></li>
<li class="toctree-l4"><a class="reference internal" href="docker.html#docker-image-customization">Docker Image Customization</a></li>
<li class="toctree-l4"><a class="reference internal" href="docker.html#install-location">Install Location</a></li>
<li class="toctree-l4"><a class="reference internal" href="docker.html#custom-dockerfile">Custom Dockerfile</a></li>
<li class="toctree-l4"><a class="reference internal" href="docker.html#remove-commands">Remove Commands</a></li>
<li class="toctree-l4"><a class="reference internal" href="docker.html#add-commands">Add Commands</a></li>
<li class="toctree-l4"><a class="reference internal" href="docker.html#write-from-scratch">Write from Scratch</a></li>
<li class="toctree-l4"><a class="reference internal" href="docker.html#busybox-ash-support">Busybox/Ash Support</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Windows Plugin</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#requirements">Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#build">Build</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#required-settings">Required Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="#or-higher">1.0 or higher</a></li>
<li class="toctree-l4"><a class="reference internal" href="#or-lower">0.8 or lower</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#configuration">Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#settings">Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tasks">Tasks</a></li>
<li class="toctree-l3"><a class="reference internal" href="#customize">Customize</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#feature-configuration">Feature configuration</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="jdkpackager.html">JDKPackager Plugin</a><ul>
<li class="toctree-l3"><a class="reference internal" href="jdkpackager.html#requirements">Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="jdkpackager.html#enabling">Enabling</a></li>
<li class="toctree-l3"><a class="reference internal" href="jdkpackager.html#build">Build</a></li>
<li class="toctree-l3"><a class="reference internal" href="jdkpackager.html#settings">Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="jdkpackager.html#example">Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="jdkpackager.html#debugging">Debugging</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../archetypes/index.html">Archetypes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../archetypes/java_app/index.html">Java Command Line Application</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../archetypes/java_app/index.html#features">Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="../archetypes/java_app/index.html#usage">Usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../archetypes/java_app/index.html#settings-tasks">Settings &amp; Tasks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../archetypes/java_app/index.html#start-script-options">Start script options</a></li>
<li class="toctree-l3"><a class="reference internal" href="../archetypes/java_app/index.html#multiple-applications">Multiple Applications</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../archetypes/java_app/index.html#multiple-start-scripts">Multiple start scripts</a></li>
<li class="toctree-l4"><a class="reference internal" href="../archetypes/java_app/index.html#single-start-script-with-forwarders">Single start script with forwarders</a></li>
<li class="toctree-l4"><a class="reference internal" href="../archetypes/java_app/index.html#a-note-on-script-names">A note on script names</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../archetypes/java_app/index.html#customize">Customize</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../archetypes/java_app/customize.html">Application and runtime configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../archetypes/java_app/customize.html#start-script-customizations">Start script customizations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../archetypes/java_app/customize.html#overriding-templates-bash-bat">Overriding Templates (Bash/Bat)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../archetypes/java_server/index.html">Java Server Application</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../archetypes/java_server/index.html#features">Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="../archetypes/java_server/index.html#usage">Usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../archetypes/java_server/index.html#settings-tasks">Settings &amp; Tasks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../archetypes/java_server/index.html#default-mappings">Default Mappings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../archetypes/java_server/index.html#customize">Customize</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../archetypes/java_server/customize.html">Application Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../archetypes/java_server/customize.html#systemloader-configuration">Systemloader Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../archetypes/java_server/customize.html#package-lifecycle-configuration">Package Lifecycle Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../archetypes/java_server/customize.html#example-configurations">Example Configurations</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../archetypes/systemloaders.html">Systemloaders</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../archetypes/systemloaders.html#overview">Overview</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../archetypes/systemloaders.html#general-settings">General Settings</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../archetypes/systemloaders.html#systemv">SystemV</a></li>
<li class="toctree-l3"><a class="reference internal" href="../archetypes/systemloaders.html#systemd">Systemd</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../archetypes/systemloaders.html#settings">Settings</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../archetypes/systemloaders.html#upstart">Upstart</a></li>
<li class="toctree-l3"><a class="reference internal" href="../archetypes/systemloaders.html#customization">Customization</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../archetypes/systemloaders.html#start-script-location">Start Script Location</a></li>
<li class="toctree-l4"><a class="reference internal" href="../archetypes/systemloaders.html#customize-start-script">Customize Start Script</a></li>
<li class="toctree-l4"><a class="reference internal" href="../archetypes/systemloaders.html#override-start-script">Override Start Script</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../archetypes/misc_archetypes.html">Configuration Archetypes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../archetypes/misc_archetypes.html#ashscript-plugin">AshScript Plugin</a></li>
<li class="toctree-l3"><a class="reference internal" href="../archetypes/misc_archetypes.html#classpathjar-launcherjar-plugin">ClasspathJar &amp; LauncherJar Plugin</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../archetypes/cheatsheet.html">An archetype cheatsheet</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../archetypes/cheatsheet.html#path-configurations">Path Configurations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../archetypes/cheatsheet.html#quick-reference-table">Quick Reference Table</a></li>
<li class="toctree-l4"><a class="reference internal" href="../archetypes/cheatsheet.html#settings">Settings</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../archetypes/cheatsheet.html#jvm-options">JVM Options</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../archetypes/cheatsheet.html#extra-defines">Extra Defines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../archetypes/cheatsheet.html#file-application-ini-or-etc-default">File - application.ini or etc-default</a></li>
<li class="toctree-l4"><a class="reference internal" href="../archetypes/cheatsheet.html#setting-javaoptions">Setting - javaOptions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../archetypes/cheatsheet.html#overriding-templates">Overriding Templates</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../archetypes/cheatsheet.html#bat-script-src-templates-bat-template">Bat Script - <code class="docutils literal notranslate"><span class="pre">src/templates/bat-template</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../archetypes/cheatsheet.html#bash-script-src-templates-bash-template">Bash Script - <code class="docutils literal notranslate"><span class="pre">src/templates/bash-template</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../archetypes/cheatsheet.html#service-manager-templates">Service Manager Templates</a></li>
<li class="toctree-l4"><a class="reference internal" href="../archetypes/cheatsheet.html#server-app-config-src-templates-etc-default-systemv-systemd">Server App Config - <code class="docutils literal notranslate"><span class="pre">src/templates/etc-default-{systemv,systemd}</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../recipes/index.html">Recipes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../recipes/custom.html">Custom Package Formats</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../recipes/custom.html#sbt-assembly">SBT Assembly</a></li>
<li class="toctree-l3"><a class="reference internal" href="../recipes/custom.html#proguard">Proguard</a></li>
<li class="toctree-l3"><a class="reference internal" href="../recipes/custom.html#multi-module-builds">Multi Module Builds</a></li>
<li class="toctree-l3"><a class="reference internal" href="../recipes/custom.html#custom-packaging-format">Custom Packaging Format</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../recipes/longclasspath.html">Dealing with long classpaths</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../recipes/longclasspath.html#generate-a-launcher-jar">Generate a launcher jar</a></li>
<li class="toctree-l3"><a class="reference internal" href="../recipes/longclasspath.html#generate-a-classpath-jar">Generate a classpath jar</a></li>
<li class="toctree-l3"><a class="reference internal" href="../recipes/longclasspath.html#configure-a-wildcard-classpath">Configure a wildcard classpath</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../recipes/play.html">Play 2 Packaging</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../recipes/play.html#build-configuration">Build Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../recipes/play.html#application-configuration">Application Configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../recipes/play.html#systemv">SystemV</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../recipes/deployment.html">Deployment</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../recipes/deployment.html#setup-publish-task">Setup publish Task</a></li>
<li class="toctree-l3"><a class="reference internal" href="../recipes/deployment.html#default-deployment">Default Deployment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../recipes/deployment.html#custom-deployments">Custom Deployments</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../recipes/deployment.html#rpm">RPM</a></li>
<li class="toctree-l4"><a class="reference internal" href="../recipes/deployment.html#debian">Debian</a></li>
<li class="toctree-l4"><a class="reference internal" href="../recipes/deployment.html#windows">Windows</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../recipes/deployment.html#custom-configurations">Custom Configurations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../recipes/deployment.html#id1">Debian</a></li>
<li class="toctree-l4"><a class="reference internal" href="../recipes/deployment.html#id2">RPM</a></li>
<li class="toctree-l4"><a class="reference internal" href="../recipes/deployment.html#id3">Windows</a></li>
<li class="toctree-l4"><a class="reference internal" href="../recipes/deployment.html#universal">Universal</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../recipes/scalajs.html">Scala JS packaging</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../recipes/scalajs.html#package-webjars-and-scalajs-resources">Package webjars and scalajs resources</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../recipes/package_configuration.html">Build the same package with different configs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../recipes/package_configuration.html#sbt-sub-modules">SBT sub modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="../recipes/package_configuration.html#sbt-parameters-and-build-environment">SBT parameters and Build Environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../recipes/package_configuration.html#sbt-configuration-scope-not-recommended">SBT configuration scope (not recommended)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../recipes/embedded-jvm.html">Embedding JVM in Universal</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../recipes/embedded-jvm.html#adding-the-jvm">Adding the JVM</a></li>
<li class="toctree-l3"><a class="reference internal" href="../recipes/embedded-jvm.html#application-configuration">Application Configuration</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">sbt-native-packager</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Packaging Formats</a> &raquo;</li>
        
      <li>Windows Plugin</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/formats/windows.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="windows-plugin">
<span id="id1"></span><h1>Windows Plugin<a class="headerlink" href="#windows-plugin" title="Permalink to this headline">¶</a></h1>
<p>Windows packaging is completely tied to the WIX installer toolset.  For any non-trivial package,
it’s important to understand how WIX works.  <a class="reference external" href="http://wix.tramontana.co.hu/">http://wix.tramontana.co.hu/</a> is an excellent tutorial
to how to create packages using wix.</p>
<p>However, the native-packager provides a simple layer on top of wix that <em>may</em> be enough for most projects.
If it is not enough, just override <code class="docutils literal notranslate"><span class="pre">wixConfig</span></code> or <code class="docutils literal notranslate"><span class="pre">wixFile</span></code> settings.  Let’s look at the layer above direct
xml configuration.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The windows plugin depends on the <a class="reference internal" href="universal.html#universal-plugin"><span class="std std-ref">Universal Plugin</span></a>.</p>
</div>
<div class="section" id="requirements">
<h2>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h2>
<p>You need the following applications installed</p>
<ul class="simple">
<li><a class="reference external" href="http://wixtoolset.org/">WIX Toolset</a></li>
</ul>
</div>
<div class="section" id="build">
<h2>Build<a class="headerlink" href="#build" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sbt windows:packageBin
</pre></div>
</div>
<div class="section" id="required-settings">
<h3>Required Settings<a class="headerlink" href="#required-settings" title="Permalink to this headline">¶</a></h3>
<p>A windows package needs some mandatory settings to be valid. Make sure
you have these settings in your build:</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="c1">// general package information (can be scoped to Windows)</span>
<span class="n">maintainer</span> <span class="o">:=</span> <span class="s">&quot;Josh Suereth &lt;joshua.suereth@typesafe.com&gt;&quot;</span>
<span class="n">packageSummary</span> <span class="o">:=</span> <span class="s">&quot;test-windows&quot;</span>
<span class="n">packageDescription</span> <span class="o">:=</span> <span class="s">&quot;&quot;&quot;Test Windows MSI.&quot;&quot;&quot;</span>

<span class="c1">// wix build information</span>
<span class="n">wixProductId</span> <span class="o">:=</span> <span class="s">&quot;ce07be71-510d-414a-92d4-dff47631848a&quot;</span>
<span class="n">wixProductUpgradeId</span> <span class="o">:=</span> <span class="s">&quot;4552fb0e-e257-4dbd-9ecb-dba9dbacf424&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="or-higher">
<h3>1.0 or higher<a class="headerlink" href="#or-higher" title="Permalink to this headline">¶</a></h3>
<p>Enables the windows plugin</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="n">enablePlugins</span><span class="o">(</span><span class="nc">WindowsPlugin</span><span class="o">)</span>
</pre></div>
</div>
</div>
<div class="section" id="or-lower">
<h3>0.8 or lower<a class="headerlink" href="#or-lower" title="Permalink to this headline">¶</a></h3>
<p>For these versions windows packaging is automatically activated.
See the <a class="reference internal" href="../gettingstarted.html"><span class="doc">Getting Started</span></a> page for information
on how to enable sbt-native-packager.</p>
</div>
</div>
<div class="section" id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h2>
<p>Settings and Tasks inherited from parent plugins can be scoped with <code class="docutils literal notranslate"><span class="pre">Universal</span></code>.</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="n">mappings</span> <span class="n">in</span> <span class="nc">Windows</span> <span class="o">:=</span> <span class="o">(</span><span class="n">mappings</span> <span class="n">in</span> <span class="nc">Universal</span><span class="o">).</span><span class="n">value</span>
</pre></div>
</div>
<p>Now, let’s look at the full set of windows settings.</p>
</div>
<div class="section" id="settings">
<h2>Settings<a class="headerlink" href="#settings" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">name</span> <span class="pre">in</span> <span class="pre">Windows</span></code></dt>
<dd>The name of the generated msi file.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">candleOptions</span></code></dt>
<dd>the list of options to pass to the <code class="docutils literal notranslate"><span class="pre">candle.exe</span></code> command.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">lightOptions</span></code></dt>
<dd>the list of options to pass to the <code class="docutils literal notranslate"><span class="pre">light.exe</span></code> command.  Most likely setting is: <code class="docutils literal notranslate"><span class="pre">Seq(&quot;-ext&quot;,</span> <span class="pre">&quot;WixUIExtension&quot;,</span> <span class="pre">&quot;-cultures:en-us&quot;)</span></code> for UI.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">wixMajorVersion</span></code></dt>
<dd>the major version of the Wix tool-set (e.g. when using Wix 4.0.1, major version is 4). Default is 3.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">wixProductId</span></code></dt>
<dd>The GUID to use to identify the windows package/product.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">wixProductUpgradeId</span></code></dt>
<dd>The GUID to use to identify the windows package/product <em>upgrade</em> identifier (<a class="reference external" href="http://wixtoolset.org/documentation/manual/v3/howtos/updates/major_upgrade.html">See the wix docs on upgrades</a>).</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">wixPackageInfo</span></code></dt>
<dd>The information used to autoconstruct the <code class="docutils literal notranslate"><span class="pre">&lt;Product&gt;&lt;Package/&gt;</span></code> portion of the wix xml.  <strong>Note: unused if ``wixConfig`` is overridden</strong></dd>
<dt><code class="docutils literal notranslate"><span class="pre">wixProductLicense</span></code></dt>
<dd>An (optional) <code class="docutils literal notranslate"><span class="pre">rtf</span></code> file to display as the product license during installation.  Defaults to <code class="docutils literal notranslate"><span class="pre">src/windows/License.rtf</span></code></dd>
<dt><code class="docutils literal notranslate"><span class="pre">wixFeatures</span></code></dt>
<dd>A set of windows features that users can install with this package.  <strong>Note: unused if ``wixConfig`` is overridden</strong></dd>
<dt><code class="docutils literal notranslate"><span class="pre">wixProductConfig</span></code></dt>
<dd>inline XML to use for wix configuration.  This is everything nested inside the <code class="docutils literal notranslate"><span class="pre">&lt;Product&gt;</span></code> element.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">wixConfig</span></code></dt>
<dd>inline XML to use for wix configuration.   This is used if the <code class="docutils literal notranslate"><span class="pre">wixFile</span></code> setting is not specified.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">wixFile</span></code></dt>
<dd>The file containing WIX xml that defines the build.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">mappings</span> <span class="pre">in</span> <span class="pre">packageMsi</span> <span class="pre">in</span> <span class="pre">Windows</span></code></dt>
<dd>A list of file-&gt;location pairs.   This list is used to move files into a location where WIX can pick up the files and generate a <code class="docutils literal notranslate"><span class="pre">cab</span></code> or embedded <code class="docutils literal notranslate"><span class="pre">cab</span></code> for the <code class="docutils literal notranslate"><span class="pre">msi</span></code>.
The WIX xml should use the relative locations in this mappings when referencing files for the package.</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="tasks">
<h2>Tasks<a class="headerlink" href="#tasks" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">windows:packageBin</span></code></dt>
<dd>Creates the <code class="docutils literal notranslate"><span class="pre">msi</span></code> package.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">wix-file</span></code></dt>
<dd>Generates the Wix xml file from <cite>wixConfig</cite> and <cite>wixProductConfig</cite> setings, unless overriden.</dd>
</dl>
</div></blockquote>
<p>The native-packager plugin provides a few handy utilities for generating Wix XML.  These
utilities are located in the <code class="docutils literal notranslate"><span class="pre">com.typesafe.packager.windows.WixHelper</span></code> object.  Among
these are the following functions:</p>
<blockquote>
<div><dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">cleanStringForId(String):</span> <span class="pre">String</span></code></dt>
<dd>Takes in a string and returns a wix-friendly identifier.  Note: truncates to 50 characters.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">cleanFileName(String):</span> <span class="pre">String</span></code></dt>
<dd>Takes in a file name and replaces any <code class="docutils literal notranslate"><span class="pre">$</span></code> with <code class="docutils literal notranslate"><span class="pre">$$</span></code> to make it past the Wix preprocessor.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">generateComponentsAndDirectoryXml(File):</span> <span class="pre">(Seq[String],</span> <span class="pre">scala.xml.Node)</span></code></dt>
<dd>This method will take a file and generate <code class="docutils literal notranslate"><span class="pre">&lt;Directory&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;Component&gt;</span></code> and <code class="docutils literal notranslate"><span class="pre">&lt;File&gt;</span></code>
XML elements for all files/directories contained in the given file.  It will return the
<code class="docutils literal notranslate"><span class="pre">Id</span></code> settings for any generated components.  This is a handy way to package a large
directory of files for usage in the Features of an MSI.</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="customize">
<h2>Customize<a class="headerlink" href="#customize" title="Permalink to this headline">¶</a></h2>
<div class="section" id="feature-configuration">
<h3>Feature configuration<a class="headerlink" href="#feature-configuration" title="Permalink to this headline">¶</a></h3>
<p>The abstraction over wix allows you to configure “features” that users may optionally install. These feature are higher level things,
like a set of files or menu links. The currently supported components of features are:</p>
<ol class="arabic simple">
<li>Files (<code class="docutils literal notranslate"><span class="pre">ComponentFile</span></code>)</li>
<li>Path Configuration (<code class="docutils literal notranslate"><span class="pre">AddDirectoryToPath</span></code>)</li>
<li>Menu Shortcuts (<code class="docutils literal notranslate"><span class="pre">AddShortCuts</span></code>)</li>
</ol>
<p>To create a new feature, simple instantiate the <code class="docutils literal notranslate"><span class="pre">WindowsFeature</span></code> class with the desired feature components that are included.</p>
<p>Here’s an example feature that installs a binary file (<cite>cool.jar</cite>) and a script (<cite>cool.bat</cite>), and adds a directory to the PATH:</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="n">wixFeatures</span> <span class="o">+=</span> <span class="nc">WindowsFeature</span><span class="o">(</span>
    <span class="n">id</span><span class="o">=</span><span class="s">&quot;BinaryAndPath&quot;</span><span class="o">,</span>
    <span class="n">title</span><span class="o">=</span><span class="s">&quot;My Project&#39;s Binaries and updated PATH settings&quot;</span><span class="o">,</span>
    <span class="n">desc</span><span class="o">=</span><span class="s">&quot;Update PATH environment variables (requires restart).&quot;</span><span class="o">,</span>
    <span class="n">components</span> <span class="k">=</span> <span class="nc">Seq</span><span class="o">(</span>
      <span class="nc">ComponentFile</span><span class="o">(</span><span class="s">&quot;bin/cool.bat&quot;</span><span class="o">),</span>
      <span class="nc">ComponentFile</span><span class="o">(</span><span class="s">&quot;lib/cool.jar&quot;</span><span class="o">),</span>
      <span class="nc">AddDirectoryToPath</span><span class="o">(</span><span class="s">&quot;bin&quot;</span><span class="o">))</span>
<span class="o">)</span>
</pre></div>
</div>
<p>All file references should line up exactly with those found in the <code class="docutils literal notranslate"><span class="pre">mappings</span> <span class="pre">in</span> <span class="pre">Windows</span></code> configuration.   When generating a MSI, the plugin will first create
a directory using all the <code class="docutils literal notranslate"><span class="pre">mappings</span> <span class="pre">in</span> <span class="pre">Windows</span></code> and configure this for inclusion in a <code class="docutils literal notranslate"><span class="pre">cab</span></code> file.  If you’d like to add files to include, these must <em>first</em>
be added to the mappings, and then to a feature.   For example, if we complete the above setting to include file mappings, we’d have the following:</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="n">mappings</span> <span class="n">in</span> <span class="nc">Windows</span> <span class="o">++=</span> <span class="o">(</span><span class="n">packageBin</span> <span class="n">in</span> <span class="nc">Compile</span><span class="o">,</span> <span class="n">sourceDirectory</span> <span class="n">in</span> <span class="nc">Windows</span><span class="o">)</span> <span class="n">map</span> <span class="o">{</span> <span class="o">(</span><span class="n">jar</span><span class="o">,</span> <span class="n">dir</span><span class="o">)</span> <span class="k">=&gt;</span>
  <span class="nc">Seq</span><span class="o">(</span><span class="n">jar</span> <span class="o">-&gt;</span> <span class="s">&quot;lib/cool.jar&quot;</span><span class="o">,</span> <span class="o">(</span><span class="n">dir</span> <span class="o">/</span> <span class="s">&quot;cool.bat&quot;</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="s">&quot;bin/cool.bat&quot;</span><span class="o">)</span>
<span class="o">}</span>

<span class="n">wixFeatures</span> <span class="o">+=</span> <span class="nc">WindowsFeature</span><span class="o">(</span>
    <span class="n">id</span><span class="o">=</span><span class="s">&quot;BinaryAndPath&quot;</span><span class="o">,</span>
    <span class="n">title</span><span class="o">=</span><span class="s">&quot;My Project&#39;s Binaries and updated PATH settings&quot;</span><span class="o">,</span>
    <span class="n">desc</span><span class="o">=</span><span class="s">&quot;Update PATH environment variables (requires restart).&quot;</span><span class="o">,</span>
    <span class="n">components</span> <span class="k">=</span> <span class="nc">Seq</span><span class="o">(</span>
      <span class="nc">ComponentFile</span><span class="o">(</span><span class="s">&quot;bin/cool.bat&quot;</span><span class="o">),</span>
      <span class="nc">ComponentFile</span><span class="o">(</span><span class="s">&quot;lib/cool.jar&quot;</span><span class="o">),</span>
      <span class="nc">AddDirectoryToPath</span><span class="o">(</span><span class="s">&quot;bin&quot;</span><span class="o">))</span>
<span class="o">)</span>
</pre></div>
</div>
<p>Right now this layer is <em>very</em> limited in what it can accomplish, and hasn’t been heavily debugged.  If you’re interested in helping contribute, please
do so!   However, for most command line tools, it should be sufficient for generating a basic <code class="docutils literal notranslate"><span class="pre">msi</span></code> that Windows users can install.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="jdkpackager.html" class="btn btn-neutral float-right" title="JDKPackager Plugin" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="docker.html" class="btn btn-neutral" title="Docker Plugin" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014 sbt-native-packager team

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>