

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Linux Plugin &mdash; sbt-native-packager 1.11.3 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />

  
      <script src="../_static/documentation_options.js?v=5b0971ea"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Debian Plugin" href="debian.html" />
    <link rel="prev" title="Universal Plugin" href="universal.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            sbt-native-packager
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../introduction.html#goals">Goals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction.html#scope">Scope</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction.html#core-concepts">Core Concepts</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../introduction.html#format-plugins">Format Plugins</a></li>
<li class="toctree-l3"><a class="reference internal" href="../introduction.html#archetype-plugins">Archetype Plugins</a></li>
<li class="toctree-l3"><a class="reference internal" href="../introduction.html#mappings">Mappings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../introduction.html#architecture">Architecture</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../gettingstarted.html">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../gettingstarted.html#setup">Setup</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted.html#native-tools">Native Tools</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../gettingstarted.html#your-first-package">Your first package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted.html#run-the-app">Run the app</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted.html#create-a-package">Create a package</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Formats</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="universal.html">Universal Plugin</a><ul>
<li class="toctree-l3"><a class="reference internal" href="universal.html#related-plugins">Related Plugins</a></li>
<li class="toctree-l3"><a class="reference internal" href="universal.html#requirements">Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="universal.html#build">Build</a><ul>
<li class="toctree-l4"><a class="reference internal" href="universal.html#required-settings">Required Settings</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="universal.html#configurations">Configurations</a></li>
<li class="toctree-l3"><a class="reference internal" href="universal.html#settings">Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="universal.html#tasks">Tasks</a></li>
<li class="toctree-l3"><a class="reference internal" href="universal.html#customize">Customize</a><ul>
<li class="toctree-l4"><a class="reference internal" href="universal.html#universal-archive-options">Universal Archive Options</a></li>
<li class="toctree-l4"><a class="reference internal" href="universal.html#getting-started-with-universal-packaging">Getting Started with Universal Packaging</a></li>
<li class="toctree-l4"><a class="reference internal" href="universal.html#universal-conventions">Universal Conventions</a></li>
<li class="toctree-l4"><a class="reference internal" href="universal.html#change-remove-top-level-directory-in-output">Change/Remove Top Level Directory in Output</a></li>
<li class="toctree-l4"><a class="reference internal" href="universal.html#skip-packagedoc-task-on-stage">Skip packageDoc task on stage</a></li>
<li class="toctree-l4"><a class="reference internal" href="universal.html#mappingshelper">MappingsHelper</a></li>
<li class="toctree-l4"><a class="reference internal" href="universal.html#mapping-examples">Mapping Examples</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Linux Plugin</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#related-plugins">Related Plugins</a></li>
<li class="toctree-l3"><a class="reference internal" href="#build">Build</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#required-settings">Required Settings</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#configurations">Configurations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#settings">Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="#customize">Customize</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#package-mappings">Package Mappings</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-linuxpackagemapping-models">The LinuxPackageMapping Models</a></li>
<li class="toctree-l4"><a class="reference internal" href="#modifying-mappings-in-general">Modifying Mappings in General</a></li>
<li class="toctree-l4"><a class="reference internal" href="#add-mappings">Add Mappings</a></li>
<li class="toctree-l4"><a class="reference internal" href="#filter-remove-mappings">Filter/Remove Mappings</a></li>
<li class="toctree-l4"><a class="reference internal" href="#alter-linuxpackagemapping">Alter LinuxPackageMapping</a></li>
<li class="toctree-l4"><a class="reference internal" href="#alter-linuxsymlinks">Alter LinuxSymlinks</a></li>
<li class="toctree-l4"><a class="reference internal" href="#add-empty-directories">Add Empty Directories</a></li>
<li class="toctree-l4"><a class="reference internal" href="#man-pages">Man Pages</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="debian.html">Debian Plugin</a><ul>
<li class="toctree-l3"><a class="reference internal" href="debian.html#requirements">Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="debian.html#build">Build</a><ul>
<li class="toctree-l4"><a class="reference internal" href="debian.html#required-settings">Required Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="debian.html#jre-dependencies">JRE Dependencies</a></li>
<li class="toctree-l4"><a class="reference internal" href="debian.html#native-packaging">Native packaging</a></li>
<li class="toctree-l4"><a class="reference internal" href="debian.html#java-based-packaging">Java based packaging</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="debian.html#configurations">Configurations</a></li>
<li class="toctree-l3"><a class="reference internal" href="debian.html#settings">Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="debian.html#tasks">Tasks</a></li>
<li class="toctree-l3"><a class="reference internal" href="debian.html#customize">Customize</a><ul>
<li class="toctree-l4"><a class="reference internal" href="debian.html#customizing-debian-metadata">Customizing Debian Metadata</a></li>
<li class="toctree-l4"><a class="reference internal" href="debian.html#hook-actions-into-the-debian-package-lifecycle">Hook Actions into the Debian Package Lifecycle</a></li>
<li class="toctree-l4"><a class="reference internal" href="debian.html#use-a-different-castle-directory-for-your-control-scripts">Use a Different Castle Directory for your Control Scripts</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="rpm.html">Rpm Plugin</a><ul>
<li class="toctree-l3"><a class="reference internal" href="rpm.html#requirements">Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="rpm.html#build">Build</a><ul>
<li class="toctree-l4"><a class="reference internal" href="rpm.html#required-settings">Required Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="rpm.html#or-higher">1.0 or higher</a></li>
<li class="toctree-l4"><a class="reference internal" href="rpm.html#or-lower">0.8 or lower</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="rpm.html#configuration">Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="rpm.html#settings">Settings</a><ul>
<li class="toctree-l4"><a class="reference internal" href="rpm.html#informational-settings">Informational Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="rpm.html#dependency-settings">Dependency Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="rpm.html#meta-settings">Meta Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="rpm.html#scriptlet-settings">Scriptlet Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="rpm.html#systemv-start-script-settings">SystemV Start Script Settings</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="rpm.html#tasks">Tasks</a></li>
<li class="toctree-l3"><a class="reference internal" href="rpm.html#customize">Customize</a><ul>
<li class="toctree-l4"><a class="reference internal" href="rpm.html#rpm-prefix">Rpm Prefix</a></li>
<li class="toctree-l4"><a class="reference internal" href="rpm.html#rpmchangelogfile">rpmChangelogFile</a></li>
<li class="toctree-l4"><a class="reference internal" href="rpm.html#scriptlet-changes">Scriptlet Changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="rpm.html#scriptlet-migration-from-1-0-x">Scriptlet Migration from 1.0.x</a></li>
<li class="toctree-l4"><a class="reference internal" href="rpm.html#jar-repackaging">Jar Repackaging</a></li>
<li class="toctree-l4"><a class="reference internal" href="rpm.html#marking-config-files-as-noreplace">Marking config files as <code class="docutils literal notranslate"><span class="pre">noreplace</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="docker.html">Docker Plugin</a><ul>
<li class="toctree-l3"><a class="reference internal" href="docker.html#requirements">Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="docker.html#build">Build</a><ul>
<li class="toctree-l4"><a class="reference internal" href="docker.html#required-settings">Required Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="docker.html#spotify-java-based-docker-client">Spotify java based docker client</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="docker.html#configuration">Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="docker.html#settings">Settings</a><ul>
<li class="toctree-l4"><a class="reference internal" href="docker.html#informational-settings">Informational Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="docker.html#environment-settings">Environment Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="docker.html#publishing-settings">Publishing Settings</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="docker.html#tasks">Tasks</a></li>
<li class="toctree-l3"><a class="reference internal" href="docker.html#customize">Customize</a><ul>
<li class="toctree-l4"><a class="reference internal" href="docker.html#docker-image-name-and-version">Docker Image Name and Version</a></li>
<li class="toctree-l4"><a class="reference internal" href="docker.html#docker-base-image">Docker Base Image</a></li>
<li class="toctree-l4"><a class="reference internal" href="docker.html#docker-repository">Docker Repository</a></li>
<li class="toctree-l4"><a class="reference internal" href="docker.html#docker-image-customization">Docker Image Customization</a></li>
<li class="toctree-l4"><a class="reference internal" href="docker.html#install-location">Install Location</a></li>
<li class="toctree-l4"><a class="reference internal" href="docker.html#daemon-user">Daemon User</a></li>
<li class="toctree-l4"><a class="reference internal" href="docker.html#file-permission">File Permission</a></li>
<li class="toctree-l4"><a class="reference internal" href="docker.html#custom-dockerfile">Custom Dockerfile</a></li>
<li class="toctree-l4"><a class="reference internal" href="docker.html#remove-commands">Remove Commands</a></li>
<li class="toctree-l4"><a class="reference internal" href="docker.html#add-commands">Add Commands</a></li>
<li class="toctree-l4"><a class="reference internal" href="docker.html#write-from-scratch">Write from Scratch</a></li>
<li class="toctree-l4"><a class="reference internal" href="docker.html#busybox-ash-support">Busybox/Ash Support</a></li>
<li class="toctree-l4"><a class="reference internal" href="docker.html#init-support">Init support</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="windows.html">Windows Plugin</a><ul>
<li class="toctree-l3"><a class="reference internal" href="windows.html#requirements">Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="windows.html#build">Build</a><ul>
<li class="toctree-l4"><a class="reference internal" href="windows.html#required-settings">Required Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="windows.html#or-higher">1.0 or higher</a></li>
<li class="toctree-l4"><a class="reference internal" href="windows.html#or-lower">0.8 or lower</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="windows.html#configuration">Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="windows.html#settings">Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="windows.html#tasks">Tasks</a></li>
<li class="toctree-l3"><a class="reference internal" href="windows.html#customize">Customize</a><ul>
<li class="toctree-l4"><a class="reference internal" href="windows.html#feature-configuration">Feature configuration</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="jdkpackager.html">JDKPackager Plugin</a><ul>
<li class="toctree-l3"><a class="reference internal" href="jdkpackager.html#requirements">Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="jdkpackager.html#enabling">Enabling</a></li>
<li class="toctree-l3"><a class="reference internal" href="jdkpackager.html#build">Build</a></li>
<li class="toctree-l3"><a class="reference internal" href="jdkpackager.html#settings">Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="jdkpackager.html#example">Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="jdkpackager.html#debugging">Debugging</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="graalvm-native-image.html">GraalVM Native Image Plugin</a><ul>
<li class="toctree-l3"><a class="reference internal" href="graalvm-native-image.html#requirements">Requirements</a><ul>
<li class="toctree-l4"><a class="reference internal" href="graalvm-native-image.html#native-image-quick-installation"><code class="docutils literal notranslate"><span class="pre">native-image</span></code> quick installation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="graalvm-native-image.html#build">Build</a><ul>
<li class="toctree-l4"><a class="reference internal" href="graalvm-native-image.html#required-settings">Required Settings</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="graalvm-native-image.html#settings">Settings</a><ul>
<li class="toctree-l4"><a class="reference internal" href="graalvm-native-image.html#docker-image-build-settings">Docker Image Build Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="graalvm-native-image.html#publishing-settings">Publishing Settings</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="graalvm-native-image.html#graalvm-resources">GraalVM Resources</a></li>
<li class="toctree-l3"><a class="reference internal" href="graalvm-native-image.html#tasks">Tasks</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../archetypes/index.html">Archetypes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../archetypes/java_app/index.html">Java Command Line Application</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../archetypes/java_app/index.html#features">Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="../archetypes/java_app/index.html#usage">Usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../archetypes/java_app/index.html#settings-tasks">Settings &amp; Tasks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../archetypes/java_app/index.html#start-script-options">Start script options</a></li>
<li class="toctree-l3"><a class="reference internal" href="../archetypes/java_app/index.html#multiple-applications">Multiple Applications</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../archetypes/java_app/index.html#multiple-start-scripts">Multiple start scripts</a></li>
<li class="toctree-l4"><a class="reference internal" href="../archetypes/java_app/index.html#single-start-script-with-forwarders">Single start script with forwarders</a></li>
<li class="toctree-l4"><a class="reference internal" href="../archetypes/java_app/index.html#a-note-on-script-names">A note on script names</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../archetypes/java_app/index.html#customize">Customize</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../archetypes/java_app/customize.html">Application and runtime configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../archetypes/java_app/customize.html#start-script-customizations">Start script customizations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../archetypes/java_app/customize.html#overriding-templates-bash-bat">Overriding Templates (Bash/Bat)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../archetypes/java_server/index.html">Java Server Application</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../archetypes/java_server/index.html#features">Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="../archetypes/java_server/index.html#usage">Usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../archetypes/java_server/index.html#settings-tasks">Settings &amp; Tasks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../archetypes/java_server/index.html#default-mappings">Default Mappings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../archetypes/java_server/index.html#customize">Customize</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../archetypes/java_server/customize.html">Application Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../archetypes/java_server/customize.html#systemloader-configuration">Systemloader Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../archetypes/java_server/customize.html#package-lifecycle-configuration">Package Lifecycle Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../archetypes/java_server/customize.html#example-configurations">Example Configurations</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../archetypes/systemloaders.html">Systemloaders</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../archetypes/systemloaders.html#overview">Overview</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../archetypes/systemloaders.html#general-settings">General Settings</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../archetypes/systemloaders.html#systemv">SystemV</a></li>
<li class="toctree-l3"><a class="reference internal" href="../archetypes/systemloaders.html#systemd">Systemd</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../archetypes/systemloaders.html#settings">Settings</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../archetypes/systemloaders.html#upstart">Upstart</a></li>
<li class="toctree-l3"><a class="reference internal" href="../archetypes/systemloaders.html#customization">Customization</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../archetypes/systemloaders.html#start-script-location">Start Script Location</a></li>
<li class="toctree-l4"><a class="reference internal" href="../archetypes/systemloaders.html#customize-start-script">Customize Start Script</a></li>
<li class="toctree-l4"><a class="reference internal" href="../archetypes/systemloaders.html#override-start-script">Override Start Script</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../archetypes/misc_archetypes.html">Configuration Archetypes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../archetypes/misc_archetypes.html#ashscript-plugin">AshScript Plugin</a></li>
<li class="toctree-l3"><a class="reference internal" href="../archetypes/misc_archetypes.html#classpathjar-launcherjar-plugin">ClasspathJar &amp; LauncherJar Plugin</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../archetypes/jlink_plugin.html">Jlink Plugin</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../archetypes/jlink_plugin.html#known-issues">Known issues</a></li>
<li class="toctree-l3"><a class="reference internal" href="../archetypes/jlink_plugin.html#further-reading">Further reading</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../archetypes/cheatsheet.html">An archetype cheatsheet</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../archetypes/cheatsheet.html#path-configurations">Path Configurations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../archetypes/cheatsheet.html#quick-reference-table">Quick Reference Table</a></li>
<li class="toctree-l4"><a class="reference internal" href="../archetypes/cheatsheet.html#settings">Settings</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../archetypes/cheatsheet.html#jvm-options">JVM Options</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../archetypes/cheatsheet.html#extra-defines">Extra Defines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../archetypes/cheatsheet.html#file-application-ini-or-etc-default">File - application.ini or etc-default</a></li>
<li class="toctree-l4"><a class="reference internal" href="../archetypes/cheatsheet.html#setting-javaoptions">Setting - javaOptions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../archetypes/cheatsheet.html#overriding-templates">Overriding Templates</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../archetypes/cheatsheet.html#bat-script-src-templates-bat-template">Bat Script - <code class="docutils literal notranslate"><span class="pre">src/templates/bat-template</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../archetypes/cheatsheet.html#bash-script-src-templates-bash-template">Bash Script - <code class="docutils literal notranslate"><span class="pre">src/templates/bash-template</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../archetypes/cheatsheet.html#service-manager-templates">Service Manager Templates</a></li>
<li class="toctree-l4"><a class="reference internal" href="../archetypes/cheatsheet.html#server-app-config-src-templates-etc-default-systemv-systemd">Server App Config - <code class="docutils literal notranslate"><span class="pre">src/templates/etc-default-{systemv,systemd}</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../recipes/index.html">Recipes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../recipes/custom.html">Custom Package Formats</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../recipes/custom.html#sbt-assembly">SBT Assembly</a></li>
<li class="toctree-l3"><a class="reference internal" href="../recipes/custom.html#proguard">Proguard</a></li>
<li class="toctree-l3"><a class="reference internal" href="../recipes/custom.html#multi-module-builds">Multi Module Builds</a></li>
<li class="toctree-l3"><a class="reference internal" href="../recipes/custom.html#custom-packaging-format">Custom Packaging Format</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../recipes/longclasspath.html">Dealing with long classpaths</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../recipes/longclasspath.html#generate-a-launcher-jar">Generate a launcher jar</a></li>
<li class="toctree-l3"><a class="reference internal" href="../recipes/longclasspath.html#generate-a-classpath-jar">Generate a classpath jar</a></li>
<li class="toctree-l3"><a class="reference internal" href="../recipes/longclasspath.html#configure-a-wildcard-classpath">Configure a wildcard classpath</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../recipes/play.html">Play 2 Packaging</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../recipes/play.html#build-configuration">Build Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../recipes/play.html#application-configuration">Application Configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../recipes/play.html#systemv">SystemV</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../recipes/deployment.html">Deployment</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../recipes/deployment.html#setup-publish-task">Setup publish Task</a></li>
<li class="toctree-l3"><a class="reference internal" href="../recipes/deployment.html#default-deployment">Default Deployment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../recipes/deployment.html#custom-deployments">Custom Deployments</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../recipes/deployment.html#rpm">RPM</a></li>
<li class="toctree-l4"><a class="reference internal" href="../recipes/deployment.html#debian">Debian</a></li>
<li class="toctree-l4"><a class="reference internal" href="../recipes/deployment.html#windows">Windows</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../recipes/deployment.html#custom-configurations">Custom Configurations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../recipes/deployment.html#id1">Debian</a></li>
<li class="toctree-l4"><a class="reference internal" href="../recipes/deployment.html#id2">RPM</a></li>
<li class="toctree-l4"><a class="reference internal" href="../recipes/deployment.html#id3">Windows</a></li>
<li class="toctree-l4"><a class="reference internal" href="../recipes/deployment.html#universal">Universal</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../recipes/scalajs.html">Scala JS packaging</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../recipes/scalajs.html#package-webjars-and-scalajs-resources">Package webjars and scalajs resources</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../recipes/package_configuration.html">Build the same package with different configs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../recipes/package_configuration.html#sbt-sub-modules">SBT sub modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="../recipes/package_configuration.html#sbt-parameters-and-build-environment">SBT parameters and Build Environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../recipes/package_configuration.html#sbt-configuration-scope-not-recommended">SBT configuration scope (not recommended)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../recipes/embedded-jvm.html">Embedding JVM in Universal</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../recipes/embedded-jvm.html#adding-the-jvm">Adding the JVM</a></li>
<li class="toctree-l3"><a class="reference internal" href="../recipes/embedded-jvm.html#application-configuration">Application Configuration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../recipes/umask.html">Setting the umask for your process</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../recipes/umask.html#within-the-start-script">Within the start script</a></li>
<li class="toctree-l3"><a class="reference internal" href="../recipes/umask.html#system-v-systemd">System V/systemd</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">sbt-native-packager</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Packaging Formats</a></li>
      <li class="breadcrumb-item active">Linux Plugin</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/formats/linux.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="linux-plugin">
<span id="id1"></span><h1>Linux Plugin<a class="headerlink" href="#linux-plugin" title="Link to this heading">¶</a></h1>
<p>The native packager plugin is designed so that linux packages look similar but can contain distribution specific information.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The linux plugin depends on the <a class="reference internal" href="universal.html#universal-plugin"><span class="std std-ref">Universal Plugin</span></a>.</p>
</div>
<section id="related-plugins">
<h2>Related Plugins<a class="headerlink" href="#related-plugins" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="debian.html#debian-plugin"><span class="std std-ref">Debian Plugin</span></a></p></li>
<li><p><a class="reference internal" href="rpm.html#rpm-plugin"><span class="std std-ref">Rpm Plugin</span></a></p></li>
</ul>
</section>
<section id="build">
<h2>Build<a class="headerlink" href="#build" title="Link to this heading">¶</a></h2>
<p>The linux plugin is just a top level plugin for linux packaging formats.
The <code class="docutils literal notranslate"><span class="pre">Linux</span></code> scope contains settings which can be used by the plugins
depending on the linux plugin.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sbt<span class="w"> </span><span class="s2">&quot;show Linux / linuxPackageMappings&quot;</span>
</pre></div>
</div>
<section id="required-settings">
<h3>Required Settings<a class="headerlink" href="#required-settings" title="Link to this heading">¶</a></h3>
<p>A linux package needs some mandatory settings to be valid. Make sure
you have these settings in your build:</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="n">name</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="s">&quot;Linux Example&quot;</span>

<span class="n">version</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="s">&quot;1.0&quot;</span>

<span class="n">maintainer</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="s">&quot;Max Smith &lt;max.smith@yourcompany.io&gt;&quot;</span>

<span class="n">packageSummary</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="s">&quot;Hello World Debian Package&quot;</span>

<span class="n">packageDescription</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="s">&quot;&quot;&quot;A fun package description of our software,</span>
<span class="s">  with multiple lines.&quot;&quot;&quot;</span>
</pre></div>
</div>
<p>Enable the linux plugin to activate the native package implementation.</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="n">enablePlugins</span><span class="p">(</span><span class="nc">LinuxPlugin</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="configurations">
<h2>Configurations<a class="headerlink" href="#configurations" title="Link to this heading">¶</a></h2>
<p>Settings and tasks inherited from parent plugins can be scoped with <code class="docutils literal notranslate"><span class="pre">Linux</span></code>.</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="nc">Linux</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">name</span><span class="p">.</span><span class="n">value</span>
</pre></div>
</div>
</section>
<section id="settings">
<h2>Settings<a class="headerlink" href="#settings" title="Link to this heading">¶</a></h2>
<p>The required fields for any linux distribution are:</p>
<blockquote>
<div><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">Linux</span> <span class="pre">/</span> <span class="pre">name</span></code></dt><dd><p>The name given the package for installation.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">maintainer</span></code></dt><dd><p>The name of the maintainer of the package (important for ownership and signing).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">packageSummary</span></code></dt><dd><p>A one-sentence short summary of what the package does.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">packageDescription</span></code></dt><dd><p>A longer description of what the package does and what it includes.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">linuxPackageMappings</span></code></dt><dd><p>A list of files and their desired installation locations for the package, as well as other metainformation.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">fileDescriptorLimit</span></code></dt><dd><p>Maximum number of open file descriptors for the spawned application. The default value is 1024.</p>
</dd>
</dl>
</div></blockquote>
</section>
<section id="customize">
<h2>Customize<a class="headerlink" href="#customize" title="Link to this heading">¶</a></h2>
<section id="package-mappings">
<h3>Package Mappings<a class="headerlink" href="#package-mappings" title="Link to this heading">¶</a></h3>
<p>Most of the work in generating a linux package is constructing package mappings.  These ‘map’ a file to a location on disk where it should
reside as well as information about that file. Package mappings allow the specification of file ownership, permissions and whether or not
the file can be considered “configuration”.</p>
<blockquote>
<div><p>Note that while the <code class="docutils literal notranslate"><span class="pre">sbt-native-packager</span></code> plugin allows you to specify all of this information, not all platforms will make use of the
information.  It’s best to be specific about how you want files handled and run tests on each platform you wish to deploy to.</p>
</div></blockquote>
<p>A package mapping takes this general form</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">packageMapping</span><span class="p">(</span>
<span class="w">    </span><span class="n">file</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;/usr/share/man/man1/sbt.1.gz&quot;</span>
<span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="n">withPerms</span><span class="w"> </span><span class="s">&quot;0644&quot;</span><span class="w"> </span><span class="n">gzipped</span><span class="p">)</span><span class="w"> </span><span class="n">asDocs</span><span class="p">()</span>
</pre></div>
</div>
<p>Let’s look at each of the methods supported in the packageMapping ‘library’.</p>
<blockquote>
<div><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">packageMapping(mappings:</span> <span class="pre">(File,</span> <span class="pre">String)*)</span></code></dt><dd><p>This method takes a variable number of <code class="docutils literal notranslate"><span class="pre">File</span> <span class="pre">-&gt;</span> <span class="pre">String</span></code> pairs.  The <code class="docutils literal notranslate"><span class="pre">File</span></code> should be a locally available file that can be bundled,
and the <code class="docutils literal notranslate"><span class="pre">String</span></code> is the installation location on disk for that file.  This returns a new <code class="docutils literal notranslate"><span class="pre">PackageMapping</span></code> that supports the remaining methods.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">withPerms(mask:</span> <span class="pre">String)</span></code></dt><dd><p>This function adjusts the installation permissions of the associated files.  The flags passed should be of the form of a mask, e.g. <code class="docutils literal notranslate"><span class="pre">0755</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">gzipped</span></code></dt><dd><p>This ensures that the files are written in compressed format to the destination.  This is a convenience for distributions that want files zipped.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">asDocs</span></code></dt><dd><p>This denotes that the mapped files are documentation files.  <em>Note: I believe these are only used for ``RPM``s.</em></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">withConfig(value:String=&quot;true&quot;)</span></code></dt><dd><p>This denotes whether or not a <code class="docutils literal notranslate"><span class="pre">%config</span></code> attribute is attached to the given files in the generated rpm SPEC.  Any value other than <code class="docutils literal notranslate"><span class="pre">&quot;true&quot;</span></code> will be
placed inside the <code class="docutils literal notranslate"><span class="pre">%config()</span></code> definition.  For example <code class="docutils literal notranslate"><span class="pre">withConfig(&quot;noreplace&quot;)</span></code> results in <code class="docutils literal notranslate"><span class="pre">%config(noreplace)</span></code> attribute in the rpm spec.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">withUser(user:String)</span></code></dt><dd><p>This denotes which user should be the owner of the given files in the resulting package.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">withGroup(group:String)</span></code></dt><dd><p>This denotes which group should be the owner of the given files in the resulting package.</p>
</dd>
</dl>
</div></blockquote>
</section>
<section id="the-linuxpackagemapping-models">
<h3>The LinuxPackageMapping Models<a class="headerlink" href="#the-linuxpackagemapping-models" title="Link to this heading">¶</a></h3>
<p>All classes are located in the <code class="docutils literal notranslate"><span class="pre">com.typesafe.sbt.packager.linux</span></code> package. So if you want to create
instances yourself you have to add <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">com.typesafe.sbt.packager.linux._</span></code> to your build file.</p>
<p>A <code class="docutils literal notranslate"><span class="pre">LinuxPackageMapping</span></code> contains the following fields:</p>
<blockquote>
<div><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">mappings:</span> <span class="pre">Traversable[(File,</span> <span class="pre">String)]</span></code></dt><dd><p>A list of mappings aggregated by this LinuxPackageMapping</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">fileData:</span> <span class="pre">LinuxFileMetaData</span></code></dt><dd><p>Permissions for all the defined mappings. Default = “root:root 755”</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">zipped:</span> <span class="pre">Boolean</span></code></dt><dd><p>Are the mappings zipped? Default = false</p>
</dd>
</dl>
</div></blockquote>
<p>All mappings are stored in the task <code class="docutils literal notranslate"><span class="pre">linuxPackageMappings</span></code> which returns a <code class="docutils literal notranslate"><span class="pre">Seq[LinuxPackageMapping]</span></code>. To display the contents (value),
open the sbt console and call</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>show<span class="w"> </span>linuxPackageMappings
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">LinuxFileMetaData</span></code> has the following fields</p>
<blockquote>
<div><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">user:</span> <span class="pre">String</span></code></dt><dd><p>The user owning all the mappings. Default = “root”</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">group:</span> <span class="pre">String</span></code></dt><dd><p>The group owning all the mappings. Default = “root”</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">permissions:</span> <span class="pre">String</span></code></dt><dd><p>Access permissions for all the mappings. Default = “755”</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">config:</span> <span class="pre">String</span></code></dt><dd><p>Are the mappings config files. Default = “false”</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">docs:</span> <span class="pre">Boolean</span></code></dt><dd><p>Are the mappings docs. Default = false</p>
</dd>
</dl>
</div></blockquote>
<p>Last but not least there are the <code class="docutils literal notranslate"><span class="pre">linuxPackageSymlinks</span></code>, which encapsulate symlinks on your
destination system. A <code class="docutils literal notranslate"><span class="pre">LinuxSymlink</span></code> contains only  two fields</p>
<blockquote>
<div><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">link:</span> <span class="pre">String</span></code></dt><dd><p>The actual link that points to <code class="docutils literal notranslate"><span class="pre">destination</span></code></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">destination:</span> <span class="pre">String</span></code></dt><dd><p>The link destination</p>
</dd>
</dl>
</div></blockquote>
<p>You can see all currently configured symlinks with this simple command.
<code class="docutils literal notranslate"><span class="pre">linuxPackageSymlinks</span></code> is just a <code class="docutils literal notranslate"><span class="pre">Seq[LinuxSymlink]</span></code></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>show<span class="w"> </span>linuxPackageSymlinks
</pre></div>
</div>
</section>
<section id="modifying-mappings-in-general">
<h3>Modifying Mappings in General<a class="headerlink" href="#modifying-mappings-in-general" title="Link to this heading">¶</a></h3>
<p>Adding, filtering and altering mappings are always simple methods on a <code class="docutils literal notranslate"><span class="pre">Seq[LinuxPackageMapping]</span></code> sequence.
This section shows you the general way to add, modify, or filter mappings.  The following sections have specific examples.</p>
<p>The basic construct for <strong>adding</strong> a mapping is</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="c1">// simple</span>
<span class="n">linuxPackageMappings</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">packageMapping</span><span class="p">(</span><span class="w"> </span><span class="p">(</span><span class="n">theFile</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/absolute/path/somefile.txt&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">)</span>

<span class="c1">// specialized</span>
<span class="n">linuxPackageMappings</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">packageMapping</span><span class="p">(</span><span class="w"> </span><span class="p">(</span><span class="n">theFile</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/absolute/path/somefile.txt&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="n">withPerms</span><span class="p">(</span><span class="s">&quot;644&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">asDocs</span><span class="p">()</span>
</pre></div>
</div>
<p>To <strong>filter</strong> or <strong>modify</strong> a mapping, you generally create a new mapping by copying an existing one (or occasionally by creating a new blank one),
then filter or modify it, and then return that filtered or modified mapping.  Here’s an example that shows a number of things you can <em>possibly</em> do.  See the next section for specific examples.
(Basic scala collections operations are used in the code. <a class="reference external" href="https://twitter.github.io/scala_school/collections.html#filter">Here is an explanation of the filter method</a>.)</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="c1">// sbt 0.13.0 syntax</span>
<span class="n">linuxPackageMappings</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// mappings: Seq[LinuxPackageMapping]</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="n">mappings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">linuxPackageMappings</span><span class="p">.</span><span class="n">value</span>

<span class="w">    </span><span class="c1">// this process will must return another Seq[LinuxPackageMapping]</span>
<span class="w">    </span><span class="n">mappings</span><span class="w"> </span><span class="n">map</span><span class="w"> </span><span class="p">{</span><span class="w">  </span><span class="n">linuxPackage</span><span class="w"> </span><span class="o">=&gt;</span>

<span class="w">        </span><span class="c1">// each mapping element is a Seq[(java.io.File, String)]</span>
<span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">linuxPackage</span><span class="p">.</span><span class="n">mappings</span><span class="w"> </span><span class="n">map</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">case</span><span class="w"> </span><span class="p">(</span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="c1">// alter stuff here</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="n">filter</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">case</span><span class="w"> </span><span class="p">(</span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="c1">// filter anything from the mapping where the case (file, name) =&gt; true  pattern is satisfied</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="c1">// Copy values from the mapping: (Include only what you need)</span>
<span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="n">fileData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">linuxPackage</span><span class="p">.</span><span class="n">fileData</span><span class="p">.</span><span class="n">copy</span><span class="p">(</span>
<span class="w">            </span><span class="n">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;new user&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="n">group</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;another group&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="n">permissions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;444&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="n">config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;false&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="n">docs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span>
<span class="w">        </span><span class="p">)</span>

<span class="w">        </span><span class="c1">// returns a fresh LinuxPackageMapping based on the above</span>
<span class="w">        </span><span class="n">linuxPackage</span><span class="p">.</span><span class="n">copy</span><span class="p">(</span>
<span class="w">            </span><span class="n">mappings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">filtered</span><span class="p">,</span>
<span class="w">            </span><span class="n">fileData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fileData</span>
<span class="w">        </span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="n">filter</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">linuxPackage</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">linuxPackage</span><span class="p">.</span><span class="n">mappings</span><span class="p">.</span><span class="n">nonEmpty</span><span class="w"> </span><span class="c1">// return all mappings that are nonEmpty (this effectively removes all empty linuxPackageMappings)</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// sbt 0.12.x syntax</span>
<span class="n">linuxPackageMappings</span><span class="w"> </span><span class="o">&lt;&lt;=</span><span class="w"> </span><span class="n">linuxPackageMappings</span><span class="w"> </span><span class="n">map</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">mappings</span><span class="w"> </span><span class="o">=&gt;</span>
<span class="w">    </span><span class="cm">/* stuff. see above */</span>
<span class="w">    </span><span class="n">mappings</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The ordering in which you apply the tasks is important.</p>
</section>
<section id="add-mappings">
<h3>Add Mappings<a class="headerlink" href="#add-mappings" title="Link to this heading">¶</a></h3>
<p>To add an arbitrary file in your build path</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="n">linuxPackageMappings</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">val</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sourceDirectory</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="s">&quot;resources&quot;</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="s">&quot;somefile.txt&quot;</span>
<span class="w">  </span><span class="n">packageMapping</span><span class="p">(</span><span class="w"> </span><span class="p">(</span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/absolute/path/somefile.txt&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">linuxPackageMappings</span></code> can be scoped to <code class="docutils literal notranslate"><span class="pre">Rpm</span></code> or <code class="docutils literal notranslate"><span class="pre">Debian</span></code> if you want to add mappings only for a single packaging type.</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="nc">Debian</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">linuxPackageMappings</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">val</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sourceDirectory</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="s">&quot;resources&quot;</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="s">&quot;debian-somefile.txt&quot;</span>
<span class="w">  </span><span class="n">packageMapping</span><span class="p">(</span><span class="w"> </span><span class="p">(</span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/absolute/path/somefile.txt&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">)</span>
<span class="p">}</span>

<span class="nc">Rpm</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">linuxPackageMappings</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">val</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sourceDirectory</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="s">&quot;resources&quot;</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="s">&quot;rpm-somefile.txt&quot;</span>
<span class="w">  </span><span class="n">packageMapping</span><span class="p">(</span><span class="w"> </span><span class="p">(</span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/absolute/path/somefile.txt&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="filter-remove-mappings">
<h3>Filter/Remove Mappings<a class="headerlink" href="#filter-remove-mappings" title="Link to this heading">¶</a></h3>
<p>If you want to remove some mappings you have to <strong>filter</strong> the current list of <code class="docutils literal notranslate"><span class="pre">linuxPackageMappings</span></code>.
As <code class="docutils literal notranslate"><span class="pre">linuxPackageMappings</span></code> is a task, the order of your settings is important. Here are some examples
on how to filter mappings.</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="c1">// this is equal to</span>
<span class="c1">// linuxPackageMappings &lt;&lt;= linuxPackageMappings map { mappings =&gt; /* stuff */ mappings }</span>
<span class="n">linuxPackageMappings</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// first get the current mappings. mapping is of type Seq[LinuxPackageMapping]</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="n">mappings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">linuxPackageMappings</span><span class="p">.</span><span class="n">value</span>

<span class="w">    </span><span class="c1">// map over the mappings if you want to change them</span>
<span class="w">    </span><span class="n">mappings</span><span class="w"> </span><span class="n">map</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">mapping</span><span class="w"> </span><span class="o">=&gt;</span>

<span class="w">        </span><span class="c1">// we remove everything besides files that end with &quot;.conf&quot;</span>
<span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mapping</span><span class="p">.</span><span class="n">mappings</span><span class="w"> </span><span class="n">filter</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">case</span><span class="w"> </span><span class="p">(</span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="n">endsWith</span><span class="w"> </span><span class="s">&quot;.conf&quot;</span><span class="w">  </span><span class="c1">// only elements where this is true are kept</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="c1">// now we copy the mapping but replace the mappings</span>
<span class="w">        </span><span class="n">mapping</span><span class="p">.</span><span class="n">copy</span><span class="p">(</span><span class="n">mappings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">filtered</span><span class="p">)</span>

<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="n">filter</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// only keep those mappings that are nonEmpty (_.mappings.nonEmpty == true)</span>
<span class="w">        </span><span class="n">_</span><span class="p">.</span><span class="n">mappings</span><span class="p">.</span><span class="n">nonEmpty</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="alter-linuxpackagemapping">
<h3>Alter LinuxPackageMapping<a class="headerlink" href="#alter-linuxpackagemapping" title="Link to this heading">¶</a></h3>
<p>To alter the permissions for all <code class="docutils literal notranslate"><span class="pre">LinuxPackageMapping</span></code> s that match a specific criteria:</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="c1">// Altering permissions for configs</span>
<span class="n">linuxPackageMappings</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="n">mappings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">linuxPackageMappings</span><span class="p">.</span><span class="n">value</span>
<span class="w">    </span><span class="c1">// Changing the group for all configs</span>
<span class="w">    </span><span class="n">mappings</span><span class="w"> </span><span class="n">map</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="n">linuxPackage</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">linuxPackage</span><span class="p">.</span><span class="n">fileData</span><span class="p">.</span><span class="n">config</span><span class="w"> </span><span class="n">equals</span><span class="w"> </span><span class="s">&quot;true&quot;</span><span class="w"> </span><span class="o">=&gt;</span>
<span class="w">            </span><span class="c1">// altering the group</span>
<span class="w">            </span><span class="kd">val</span><span class="w"> </span><span class="n">newFileData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">linuxPackage</span><span class="p">.</span><span class="n">fileData</span><span class="p">.</span><span class="n">copy</span><span class="p">(</span>
<span class="w">                </span><span class="n">group</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;appdocs&quot;</span>
<span class="w">            </span><span class="p">)</span>
<span class="w">            </span><span class="c1">// altering the LinuxPackageMapping</span>
<span class="w">            </span><span class="n">linuxPackage</span><span class="p">.</span><span class="n">copy</span><span class="p">(</span>
<span class="w">                </span><span class="n">fileData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newFileData</span>
<span class="w">            </span><span class="p">)</span>
<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="n">linuxPackage</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">linuxPackage</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="alter-linuxsymlinks">
<h3>Alter LinuxSymlinks<a class="headerlink" href="#alter-linuxsymlinks" title="Link to this heading">¶</a></h3>
<p>To alter the permissions for all <code class="docutils literal notranslate"><span class="pre">LinuxPackageMapping</span></code> s that match a specific criteria:</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="c1">// The same as linuxPackageMappings</span>
<span class="n">linuxPackageSymlinks</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="n">links</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">linuxPackageSymlinks</span><span class="p">.</span><span class="n">value</span>

<span class="w">    </span><span class="n">links</span><span class="w"> </span><span class="n">filter</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* remove stuff */</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="n">map</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* change stuff */</span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="add-empty-directories">
<h3>Add Empty Directories<a class="headerlink" href="#add-empty-directories" title="Link to this heading">¶</a></h3>
<p>There is a special helper function that allows you to add empty directories to the package mappings. This might be
useful if the service needs some location to store files.</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="c1">// Add an empty folder to mappings</span>
<span class="n">linuxPackageMappings</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">packageTemplateMapping</span><span class="p">(</span><span class="s">s&quot;/usr/share/</span><span class="si">${</span><span class="n">name</span><span class="p">.</span><span class="n">value</span><span class="si">}</span><span class="s">/lib/native&quot;</span><span class="p">)()</span><span class="w"> </span><span class="n">withUser</span><span class="p">(</span><span class="n">name</span><span class="p">.</span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="n">withGroup</span><span class="p">(</span><span class="n">name</span><span class="p">.</span><span class="n">value</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="man-pages">
<h3>Man Pages<a class="headerlink" href="#man-pages" title="Link to this heading">¶</a></h3>
<p>There are many ways to document your projects, and many ways to expose them.  While the native packager places
no limit on WHAT is included in a package, there are some things which receive special treatment.</p>
<p>Specifically: linux man pages.</p>
<p>To create a linux man page for the application, let’s create a <code class="docutils literal notranslate"><span class="pre">src/linux/usr/share/man/man1/example-cli.1</span></code> file</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>.<span class="se">\&quot;</span><span class="w"> </span>Process<span class="w"> </span>this<span class="w"> </span>file<span class="w"> </span>with
.<span class="se">\&quot;</span><span class="w"> </span>groff<span class="w"> </span>-man<span class="w"> </span>-Tascii<span class="w"> </span>example-cli.1
.<span class="se">\&quot;</span>
.TH<span class="w"> </span>EXAMPLE_CLI<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="s2">&quot;NOVEMBER 2011&quot;</span><span class="w"> </span>Linux<span class="w"> </span><span class="s2">&quot;User Manuals&quot;</span>
.SH<span class="w"> </span>NAME
example-cli<span class="w"> </span><span class="se">\-</span><span class="w"> </span>Example<span class="w"> </span>CLI
.SH<span class="w"> </span>SYNOPSIS
.B<span class="w"> </span>example-cli<span class="w"> </span><span class="o">[</span>-h<span class="o">]</span>
</pre></div>
</div>
<p>Notice the location of the file.  Any file under <code class="docutils literal notranslate"><span class="pre">src/linux</span></code> is automatically included,
relative to <code class="docutils literal notranslate"><span class="pre">/</span></code>, in linux packages (deb, rpm).  That means the man file will <strong>not</strong> appear
in the universal package (confusing linux users).</p>
<p>Now that the man page is created, we can use a few tasks provided to view it in sbt.  Let’s look in the sbt console</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sbt<span class="w"> </span>generateManPages
</pre></div>
</div>
<p>We can use this task to work on the man pages and ensure they’ll look OK.  You can also directly use <code class="docutils literal notranslate"><span class="pre">groff</span></code> to view
changes in your man pages.</p>
<p>In addition to providing the means to view the man page, the native packager will also automatically <code class="docutils literal notranslate"><span class="pre">gzip</span></code> man pages
for the distribution.  The resulting man page is stored in <code class="docutils literal notranslate"><span class="pre">/usr/share/man/man1/example-cli.1.gz</span></code> in linux distributions.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="universal.html" class="btn btn-neutral float-left" title="Universal Plugin" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="debian.html" class="btn btn-neutral float-right" title="Debian Plugin" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2014 sbt-native-packager team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>